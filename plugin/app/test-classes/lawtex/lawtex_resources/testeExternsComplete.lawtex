template[TEMP_TesteExterns] {
	metainfo {
		language = "pt_BR"
	}
	head {
		title = "Teste de Externs"
 	}
 	body {
		declarations {
			+<string> : String {
				request = "Entre com a string"
			},
			+<checkbox> : List("a","b","c") {
				request = "Entre com o checkbox"
				atomic = false
			},
			+<combobox> : List(1,2,3) {
				request = "Entre com o combobox"
				atomic = true
			},
			+|atomicVector| : Vector[String] {
				request = "Entre com o vetor"
			},
			+|checkboxVector| : Vector[List("a","b","c")] {
				request = "Entre com o vetor de checkbox"
				atomic = false
			},
			+|comboboxVector| : Vector[List(1,2,3)] {
				request = "Entre com o vetor de combobox"
				atomic = true
			},
			+<obj> : *StructAliasTExterns,
			+|objVector| : Vector[*StructAliasTExterns]
		}
		operations {
			use *branch[BRC_AliasBranchTExterns] where ( <atomic> : <string>),
			print "Outside 1: " & <string> & ":" & <checkbox> & ":" & <combobox> & ":" &
			  |atomicVector| & ":" & |checkboxVector|  & ":" & |comboboxVector| & ":" &
			  <obj> & ":" & |objVector|,
		  	use *branch[BRC_AliasBranchTExterns] where ( <atomic> : <obj.atomic>,
		  			|atomicVector| : |obj.atomicVector|, |checkboxVector| : |obj.listVector|, |comboboxVector| : |obj.listVector|),
		  	print "Outside 2: " & <string> & ":" & <checkbox> & ":" & <combobox> & ":" &
			  |atomicVector| & ":" & |checkboxVector|  & ":" & |comboboxVector| & ":" &
			  <obj> & ":" & |objVector| /* TODO; checar problema de impress√£o */
		}
 	}
}

*branch[BRC_AliasBranchTExterns] {
	name = "BRCH TEXterns"
	declarations {
		+<atomic> : externs String,
		+<checkbox> : externs List("a","b","c"),
		+<combobox> : externs List(1,2,3),
		+|atomicVector| : externs Vector[String],
		+|checkboxVector| : externs Vector[List("a","b","c")],
		+|comboboxVector| : externs Vector[List(1,2,3)],
		+<obj> : externs *StructAliasTExterns,
		+|objVector| : externs Vector[*StructAliasTExterns]
	}
	operations {
		print "Inside: " & <atomic> & ":" & <checkbox> & ":" & <combobox> & ":" &
			  |atomicVector| & ":" & |checkboxVector|  & ":" & |comboboxVector| & ":" &
			  <obj> & ":" & |objVector|,
		<atomic> = <atomic> & " _AddOn_ "
	}
}

*struct[StructAliasTExterns] {
	name = "STRUCT"
	request = "STRUCT"
	fields {
		+[atomic] : String {
			request = "atomic"
		},
		+|atomicVector| : Vector[String],
		+|listVector| : Vector[List(1,2,3)],
		&[obj] : *StructAliasTExterns,
		&|objVector| : Vector[*StructAliasTExterns]
	}
}